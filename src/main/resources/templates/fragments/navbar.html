<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<body>

<th:block th:fragment="navbar" id="Navbar1">

<!-- SIDE NAV -->
<ul class="sidenav" id="mobile-demo">

    <li>
        <a href="/my-acct"><i class="fas fa-home"></i>Home</a>
    </li>
    <li class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/sitters"><i class="fas fa-users"></i>Find Babysitters</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/reviews"><i class="fas fa-comments"></i>Recommended Sitters</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a th:href="@{'/appointments/' + ${#authentication.principal.username} + '/past-appointments'}">
            <i class="fas fa-plus"></i>Create Reviews
        </a>
    </li>
    <li class="divider" tabindex="-1"></li>


    <li sec:authorize="isAnonymous()">
        <a href="/login">Login</a>
    </li>
    <li sec:authorize="isAnonymous()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAnonymous()">
        <a href="/register">Register</a>
    </li>
    <li sec:authorize="isAnonymous()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/available-times">Available Hours</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/appointments">Appointments</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/appointments/create">Create Appointment</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li>
        <a href="/contact">Contact</a>
    </li>
    <li class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()" style="display: inline;">
        <form th:action="@{/logout}" th:method="post" style="display: inline-block;">
            <span sec:authorize="isAuthenticated()" th:text="'Logged in as ' + ${#authentication.principal.username} + ' '" style="display: inline-block;"> </span>
            <button class="btn waves-effect waves-light btn-small hoverable center" style="display: inline;">
                Logout
            </button>
        </form>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

</ul>

<!-- DROPDOWN LINKS -->
<ul id="dropdown1" class="dropdown-content" sec:authorize="isAuthenticated()">

    <li sec:authorize="isAuthenticated()">
        <a href="/my-acct"><i class="fas fa-home"></i>Home</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAnonymous()">
        <a href="/"><i class="fas fa-home"></i>Home</a>
    </li>
    <!--<li sec:authorize="isAnonymous()" class="divider" tabindex="-1"></li>-->

    <li sec:authorize="isAuthenticated()">
        <a href="/sitters"><i class="fas fa-users"></i>Find Babysitters</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/reviews"><i class="fas fa-comments"></i>Recommended Sitters</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a th:href="@{'/appointments/' + ${#authentication.principal.username} + '/past-appointments'}"><i class="fas fa-plus"></i>Create Review</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/available-times">Available Times</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>
    <li class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/appointments">Appointments</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li sec:authorize="isAuthenticated()">
        <a href="/appointments/create">Create Appointment</a>
    </li>
    <li sec:authorize="isAuthenticated()" class="divider" tabindex="-1"></li>

    <li>
        <a href="/contact">Contact</a>
    </li>
    <li class="divider" tabindex="-1"></li>

</ul>

<!-- MAIN NAVBAR -->
<nav class="nav-wrapper">
<div class="container">
<div class="row">

    <!--<div class="col s12">-->
        <!--<a href="/" class="brand-logo left" style="font-family: 'Kaushan Script', cursive; color: #F3D250; text-shadow: 3px 3px #5DA2D5">Sitter Gitter</a>-->

        <!--<a href="#" data-target="mobile-demo" class="sidenav-trigger right">-->
            <!--<i class="material-icons">menu</i>-->
        <!--</a>-->
    <!--</div>-->

    <div class="col s12">
        <a href="/" class="brand-logo">Sitter Gitter</a>

        <a href="#" data-target="mobile-demo" class="sidenav-trigger right" sec:authorize="isAuthenticated()">
            <i class="material-icons" sec:authorize="isAuthenticated()">menu</i>
        </a>
        <ul id="nav-mobile" class="right hide-on-med-and-down" style="display: inline;">

            <li sec:authorize="isAnonymous()">
                <a href="/login">Login</a>
            </li>

            <!--<li sec:authorize="isAnonymous()">-->
                <!--<a href="/register">Register</a>-->
            <!--</li>-->

            <li>
               <a class="dropdown-trigger" href="#" data-target="dropdown1" sec:authorize="isAuthenticated()">Menu
                   <i class="material-icons right">arrow_drop_down</i>
               </a>
            </li>

            <li sec:authorize="isAuthenticated()" style="display: inline;">
                <form th:action="@{/logout}" th:method="post" style="display: inline-block;">
                    <a href="/my-acct" style="display: inline;">
                        <span sec:authorize="isAuthenticated()" th:text="'Logged in as ' +
                        ${#authentication.principal.username}" style="display: inline-block;"></span>
                    </a>
                    <button class="btn-small waves-effect waves-light hoverable blue-button" style="display: inline;">Logout</button>
                </form>
            </li>
        </ul>
    </div>
</div>
</div>
</nav>

<!--<div sec:authorize="isAuthenticated()">-->
    <!--This content is only shown to authenticated users.-->

    <!--User ID: <span th:text="${#authentication.principal.id}"/>-->
    <!--Username: <span th:text="${#authentication.principal.username}"/>-->
    <!--Email: <span th:text="${#authentication.principal.email}"/>-->
<!--</div>-->

</th:block>
</body>
</html>
